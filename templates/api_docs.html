{% extends "base.html" %}

{% block title %}API Documentation{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="row">
        <div class="col-12">
            <div class="text-center mb-5">
                <h1 class="display-4">YouTube Downloader API</h1>
                <p class="lead">Simple GET endpoints for MP4 videos (144p-1080p+) and MP3 audio (128-320kbps)</p>
            </div>

            <!-- API Overview -->
            <div class="card mb-4">
                <div class="card-header">
                    <h4><i class="fas fa-info-circle me-2"></i>API Overview</h4>
                </div>
                <div class="card-body">
                    <p>This API provides two simple GET endpoints to get video information and download links:</p>
                    <ul>
                        <li><strong>video-info</strong>: Get available qualities for a YouTube video</li>
                        <li><strong>download-link</strong>: Get direct download URL with quality specification</li>
                    </ul>
                    <p><strong>Base URL:</strong> <code>https://your-domain.com</code></p>
                </div>
            </div>

            <!-- Get Video Info Endpoint -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5>
                        <span class="badge bg-primary me-2">GET</span>
                        /api/video-info
                    </h5>
                </div>
                <div class="card-body">
                    <p><strong>Description:</strong> Get available MP4 video qualities (144p-1080p+) and MP3 audio qualities (128-320kbps)</p>
                    
                    <h6>Query Parameters:</h6>
                    <table class="table table-sm">
                        <tr><td><code>url</code></td><td>required</td><td>YouTube video URL</td></tr>
                    </table>
                    
                    <h6>Example Request:</h6>
                    <div class="code-block">
GET /api/video-info?url=https://www.youtube.com/watch?v=dQw4w9WgXcQ
                    </div>
                    
                    <h6>Response:</h6>
                    <div class="code-block">
{
  "success": true,
  "data": {
    "title": "Rick Astley - Never Gonna Give You Up",
    "video_qualities": ["144p", "240p", "360p", "480p", "720p", "1080p"],
    "audio_qualities": ["128kbps", "192kbps", "256kbps", "320kbps"]
  }
}
                    </div>
                </div>
            </div>

            <!-- Get Download Link Endpoint -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5>
                        <span class="badge bg-success me-2">GET</span>
                        /api/download-link
                    </h5>
                </div>
                <div class="card-body">
                    <p><strong>Description:</strong> Get direct download URL and quality specification</p>
                    
                    <h6>Query Parameters:</h6>
                    <table class="table table-sm">
                        <tr><td><code>url</code></td><td>required</td><td>YouTube video URL</td></tr>
                        <tr><td><code>quality</code></td><td>optional</td><td>Video quality (720p) or audio bitrate (192kbps). Default: 720p</td></tr>
                        <tr><td><code>audio_only</code></td><td>optional</td><td>Set to "true" for MP3 audio download. Default: false</td></tr>
                    </table>
                    
                    <h6>Example Request (MP4 Video):</h6>
                    <div class="code-block">
GET /api/download-link?url=https://www.youtube.com/watch?v=dQw4w9WgXcQ&quality=720p
                    </div>
                    
                    <h6>Response (MP4 Video):</h6>
                    <div class="code-block">
{
  "success": true,
  "download_url": "https://direct-download-url...",
  "quality": "720p"
}
                    </div>

                    <h6>Example Request (MP3 Audio):</h6>
                    <div class="code-block">
GET /api/download-link?url=https://www.youtube.com/watch?v=dQw4w9WgXcQ&audio_only=true&quality=192kbps
                    </div>
                    
                    <h6>Response (MP3 Audio):</h6>
                    <div class="code-block">
{
  "success": true,
  "download_url": "https://direct-download-url...",
  "quality": "192kbps"
}
                    </div>
                </div>
            </div>

            <!-- Supported Formats -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5><i class="fas fa-list me-2"></i>Supported Formats</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>MP4 Video Qualities:</h6>
                            <ul class="small">
                                <li>144p (Lowest quality)</li>
                                <li>240p</li>
                                <li>360p</li>
                                <li>480p</li>
                                <li>720p (HD)</li>
                                <li>1080p (Full HD)</li>
                                <li>Higher qualities when available</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>MP3 Audio Bitrates:</h6>
                            <ul class="small">
                                <li>128kbps (Standard quality)</li>
                                <li>192kbps (Good quality)</li>
                                <li>256kbps (High quality)</li>
                                <li>320kbps (Highest quality)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Error Responses -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5><i class="fas fa-exclamation-triangle me-2"></i>Error Responses</h5>
                </div>
                <div class="card-body">
                    <h6>Common Error Format:</h6>
                    <div class="code-block">
{
  "success": false,
  "error": "Error description"
}
                    </div>
                    
                    <h6>Common Error Types:</h6>
                    <ul class="small">
                        <li><strong>Invalid URL:</strong> YouTube URL format is incorrect</li>
                        <li><strong>Missing parameter:</strong> Required parameter not provided</li>
                        <li><strong>Download failed:</strong> Video processing or download error</li>
                    </ul>
                </div>
            </div>

            <!-- Usage Examples -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5><i class="fas fa-code me-2"></i>Usage Examples</h5>
                </div>
                <div class="card-body">
                    <h6>1. Get video information:</h6>
                    <div class="code-block">
curl "https://your-domain.com/api/video-info?url=https://www.youtube.com/watch?v=dQw4w9WgXcQ"
                    </div>

                    <h6>2. Download 720p MP4 video:</h6>
                    <div class="code-block">
curl "https://your-domain.com/api/download-link?url=https://www.youtube.com/watch?v=dQw4w9WgXcQ&quality=720p"
                    </div>

                    <h6>3. Download 192kbps MP3 audio:</h6>
                    <div class="code-block">
curl "https://your-domain.com/api/download-link?url=https://www.youtube.com/watch?v=dQw4w9WgXcQ&audio_only=true&quality=192kbps"
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
{% endblock %}